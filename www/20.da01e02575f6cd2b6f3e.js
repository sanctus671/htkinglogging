(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{y5vB:function(n,l,e){"use strict";e.r(l);var t=e("CcnG"),o=function(){return function(){}}(),r=e("pMnS"),u=e("oBZk"),i=e("ZZ/e"),a=e("ZYCi"),c=e("Ip0R"),d=e("lXZ+"),f=e("gIcY"),s=e("fLD/"),m=e("ri4K"),g=e("KOTj"),p=e("wd/R"),h=function(){function n(n,l,e,t,o,r,u,i){var a=this;this.formService=n,this.toastController=l,this.modalController=e,this.router=t,this.authenticationService=o,this.alertCtrl=r,this.ngZone=u,this.offlineSerivce=i,this.loading=!0,this.search="",this.filters={orderby:"created_at",order:"asc",city:"",suburb:""},this.forms=[],this.formGroups=[],this.formattedForms={},this.user={},this.authenticationService.getUserData().subscribe((function(n){a.ngZone.run((function(){a.user=n}))}))}return n.prototype.ionViewDidEnter=function(){this.getForms()},n.prototype.getForms=function(){var n=this;this.loading=!0,this.formService.getFormGroups().then((function(l){n.offlineSerivce.saveFormGroups(l),n.setFormGroupData(l)})).catch((function(){n.offlineSerivce.getFormGroups().then((function(l){l&&n.setFormGroupData(l)}))}))},n.prototype.setFormGroupData=function(n){var l=this;this.formGroups=n,this.formGroups.push({name:"Other"});for(var e=0,t=this.formGroups;e<t.length;e++)this.formattedForms[t[e].name]=[];this.offlineSerivce.getForms().then((function(n){n&&(l.setFormData(n),l.loading=!1)})),this.formService.getForms(this.search,this.filters).then((function(n){l.offlineSerivce.saveForms(n.data);for(var e=0,t=l.formGroups;e<t.length;e++)l.formattedForms[t[e].name]=[];l.setFormData(n.data),l.loading=!1})).catch((function(){l.offlineSerivce.getForms().then((function(n){if(n){for(var e=0,t=l.formGroups;e<t.length;e++)l.formattedForms[t[e].name]=[];l.setFormData(n)}})),l.loading=!1}))},n.prototype.setFormData=function(n){this.forms=n;for(var l=0,e=this.forms;l<e.length;l++){var t=e[l];t.form_group?this.formattedForms[t.form_group.name].push(t):this.formattedForms.Other.push(t)}},n.prototype.doSearch=function(){},n.prototype.formatDate=function(n){var l=-(new Date).getTimezoneOffset();return p(n).add(l,"m").fromNow()},n}(),v=t["\u0275crt"]({encapsulation:0,styles:[[".forms.ios[_ngcontent-%COMP%]   .forms__search[_ngcontent-%COMP%]   .forms__search__filter[_ngcontent-%COMP%]{top:12px}.forms[_ngcontent-%COMP%]   .forms__search[_ngcontent-%COMP%]{position:relative;margin-top:10px}.forms[_ngcontent-%COMP%]   .forms__search[_ngcontent-%COMP%]   .forms__search__filter[_ngcontent-%COMP%]{position:absolute;top:7px;right:10px;font-size:10px}.forms[_ngcontent-%COMP%]   .forms__list[_ngcontent-%COMP%]{margin-top:15px}.forms[_ngcontent-%COMP%]   .forms__list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-weight:600}.forms[_ngcontent-%COMP%]   .forms__loading[_ngcontent-%COMP%]{text-align:center;margin-top:60px}"]],data:{}});function C(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","forms__loading"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"ion-spinner",[["color","primary"]],null,null,null,u.V,u.u)),t["\u0275did"](2,49152,null,0,i.rb,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{color:[0,"color"]},null)],(function(n,l){n(l,2,0,"primary")}),null)}function R(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,10,"ion-item",[["detail",""],["routerDirection","forward"]],null,[[null,"click"]],(function(n,l,e){var o=!0;return"click"===l&&(o=!1!==t["\u0275nov"](n,2).onClick()&&o),"click"===l&&(o=!1!==t["\u0275nov"](n,4).onClick(e)&&o),o}),u.M,u.l)),t["\u0275did"](1,49152,null,0,i.G,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{detail:[0,"detail"],routerDirection:[1,"routerDirection"]},null),t["\u0275did"](2,16384,null,0,a.n,[a.m,a.a,[8,null],t.Renderer2,t.ElementRef],{routerLink:[0,"routerLink"]},null),t["\u0275pad"](3,1),t["\u0275did"](4,737280,null,0,i.Nb,[c.g,i.Hb,t.ElementRef,a.m,[2,a.n]],{routerDirection:[0,"routerDirection"]},null),(n()(),t["\u0275eld"](5,0,null,0,5,"ion-label",[],null,null,null,u.N,u.m)),t["\u0275did"](6,49152,null,0,i.M,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["\u0275eld"](7,0,null,0,1,"h2",[],null,null,null,null,null)),(n()(),t["\u0275ted"](8,null,["",""])),(n()(),t["\u0275eld"](9,0,null,0,1,"p",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Tap to start this form"]))],(function(n,l){n(l,1,0,"","forward");var e=n(l,3,0,"/form/"+l.context.$implicit.id);n(l,2,0,e),n(l,4,0,"forward")}),(function(n,l){n(l,8,0,l.context.$implicit.name)}))}function _(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,7,"ion-list",[["class","forms__list"]],null,null,null,u.P,u.n)),t["\u0275did"](1,49152,null,0,i.N,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["\u0275eld"](2,0,null,0,2,"ion-list-header",[],null,null,null,u.O,u.o)),t["\u0275did"](3,49152,null,0,i.O,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["\u0275ted"](4,0,[" "," "])),(n()(),t["\u0275and"](16777216,null,0,2,null,R)),t["\u0275did"](6,278528,null,0,c.i,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),t["\u0275ppd"](7,2)],(function(n,l){var e=l.component,o=t["\u0275unv"](l,6,0,n(l,7,0,t["\u0275nov"](l.parent.parent.parent,0),e.formattedForms[l.parent.context.$implicit.name],e.search));n(l,6,0,o)}),(function(n,l){n(l,4,0,l.parent.context.$implicit.name)}))}function b(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,_)),t["\u0275did"](2,16384,null,0,c.j,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,l){var e=l.component;n(l,2,0,e.formattedForms[l.context.$implicit.name]&&e.formattedForms[l.context.$implicit.name].length>0)}),null)}function D(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,b)),t["\u0275did"](2,278528,null,0,c.i,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){n(l,2,0,l.component.formGroups)}),null)}function F(n){return t["\u0275vid"](0,[t["\u0275pid"](0,d.a,[]),(n()(),t["\u0275eld"](1,0,null,null,15,"ion-header",[],null,null,null,u.J,u.i)),t["\u0275did"](2,49152,null,0,i.A,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["\u0275eld"](3,0,null,0,13,"ion-toolbar",[["color","primary"]],null,null,null,u.bb,u.A)),t["\u0275did"](4,49152,null,0,i.Bb,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{color:[0,"color"]},null),(n()(),t["\u0275eld"](5,0,null,0,2,"ion-title",[],null,null,null,u.ab,u.z)),t["\u0275did"](6,49152,null,0,i.zb,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["\u0275ted"](-1,0,[" Forms "])),(n()(),t["\u0275eld"](8,0,null,0,8,"ion-buttons",[["slot","end"]],null,null,null,u.F,u.e)),t["\u0275did"](9,49152,null,0,i.k,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["\u0275eld"](10,0,null,0,6,"ion-button",[["routerDirection","forward"]],null,[[null,"click"]],(function(n,l,e){var o=!0;return"click"===l&&(o=!1!==t["\u0275nov"](n,12).onClick()&&o),"click"===l&&(o=!1!==t["\u0275nov"](n,14).onClick(e)&&o),o}),u.E,u.d)),t["\u0275did"](11,49152,null,0,i.j,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{routerDirection:[0,"routerDirection"]},null),t["\u0275did"](12,16384,null,0,a.n,[a.m,a.a,[8,null],t.Renderer2,t.ElementRef],{routerLink:[0,"routerLink"]},null),t["\u0275pad"](13,1),t["\u0275did"](14,737280,null,0,i.Nb,[c.g,i.Hb,t.ElementRef,a.m,[2,a.n]],{routerDirection:[0,"routerDirection"]},null),(n()(),t["\u0275eld"](15,0,null,0,1,"ion-icon",[["name","settings"],["slot","icon-only"]],null,null,null,u.K,u.j)),t["\u0275did"](16,49152,null,0,i.B,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{name:[0,"name"]},null),(n()(),t["\u0275eld"](17,0,null,null,13,"ion-content",[["class","forms"]],null,null,null,u.G,u.f)),t["\u0275did"](18,49152,null,0,i.t,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["\u0275eld"](19,0,null,0,7,"div",[["class","forms__search"]],null,null,null,null,null)),(n()(),t["\u0275eld"](20,0,null,null,6,"ion-searchbar",[["color","light"],["placeholder","Find a form..."]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionChange"],[null,"ionBlur"]],(function(n,l,e){var o=!0,r=n.component;return"ionBlur"===l&&(o=!1!==t["\u0275nov"](n,22)._handleBlurEvent(e.target)&&o),"ionChange"===l&&(o=!1!==t["\u0275nov"](n,22)._handleInputEvent(e.target)&&o),"ngModelChange"===l&&(o=!1!==(r.search=e)&&o),"ionChange"===l&&(o=!1!==r.doSearch()&&o),o}),u.S,u.r)),t["\u0275did"](21,49152,null,0,i.jb,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{color:[0,"color"],placeholder:[1,"placeholder"]},null),t["\u0275did"](22,16384,null,0,i.Pb,[t.ElementRef],null,null),t["\u0275prd"](1024,null,f.c,(function(n){return[n]}),[i.Pb]),t["\u0275did"](24,671744,null,0,f.h,[[8,null],[8,null],[8,null],[6,f.c]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,f.d,null,[f.h]),t["\u0275did"](26,16384,null,0,f.e,[[4,f.d]],null,null),(n()(),t["\u0275and"](16777216,null,0,1,null,C)),t["\u0275did"](28,16384,null,0,c.j,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,0,1,null,D)),t["\u0275did"](30,16384,null,0,c.j,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,l){var e=l.component;n(l,4,0,"primary"),n(l,11,0,"forward");var t=n(l,13,0,"/settings");n(l,12,0,t),n(l,14,0,"forward"),n(l,16,0,"settings"),n(l,21,0,"light","Find a form..."),n(l,24,0,e.search),n(l,28,0,e.loading),n(l,30,0,!e.loading)}),(function(n,l){n(l,20,0,t["\u0275nov"](l,26).ngClassUntouched,t["\u0275nov"](l,26).ngClassTouched,t["\u0275nov"](l,26).ngClassPristine,t["\u0275nov"](l,26).ngClassDirty,t["\u0275nov"](l,26).ngClassValid,t["\u0275nov"](l,26).ngClassInvalid,t["\u0275nov"](l,26).ngClassPending)}))}function O(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-forms",[],null,null,null,F,v)),t["\u0275did"](1,49152,null,0,h,[s.a,i.Qb,i.Gb,a.m,m.a,i.a,t.NgZone,g.a],null,null)],null,null)}var y=t["\u0275ccf"]("app-forms",h,O,{},{},[]),E=e("iTUp");e.d(l,"FormsPageModuleNgFactory",(function(){return M}));var M=t["\u0275cmf"](o,[],(function(n){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[r.a,y]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,c.l,c.k,[t.LOCALE_ID,[2,c.t]]),t["\u0275mpd"](4608,i.b,i.b,[t.NgZone,t.ApplicationRef]),t["\u0275mpd"](4608,i.Gb,i.Gb,[i.b,t.ComponentFactoryResolver,t.Injector]),t["\u0275mpd"](4608,i.Lb,i.Lb,[i.b,t.ComponentFactoryResolver,t.Injector]),t["\u0275mpd"](4608,f.j,f.j,[]),t["\u0275mpd"](1073742336,c.b,c.b,[]),t["\u0275mpd"](1073742336,i.Db,i.Db,[]),t["\u0275mpd"](1073742336,f.i,f.i,[]),t["\u0275mpd"](1073742336,f.b,f.b,[]),t["\u0275mpd"](1073742336,a.p,a.p,[[2,a.u],[2,a.m]]),t["\u0275mpd"](1073742336,E.a,E.a,[]),t["\u0275mpd"](1073742336,o,o,[]),t["\u0275mpd"](1024,a.k,(function(){return[[{path:"",component:h}]]}),[])])}))}}]);