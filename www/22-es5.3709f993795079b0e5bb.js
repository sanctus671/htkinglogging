(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{RQqD:function(n,l,u){"use strict";u.r(l);var t=u("CcnG"),e=function(){return function(){}}(),o=u("pMnS"),i=u("oBZk"),r=u("ZZ/e"),s=u("ZYCi"),a=u("Ip0R"),c=u("VKgo"),b=u("9B/o"),g=u("wd/R"),p=function(){function n(n,l,u){this.adminService=n,this.alertCtrl=l,this.iab=u,this.loading=!0,this.users=[],this.getUsers()}return n.prototype.ngOnInit=function(){},n.prototype.getUsers=function(){var n=this;this.adminService.getUsers().then((function(l){n.loading=!1,n.users=l})).catch((function(){n.loading=!1}))},n.prototype.markAsChecked=function(n,l){var u=this;n.stopPropagation(),n.preventDefault(),this.alertCtrl.create({header:"Are you sure?",message:"You are about to mark this user as security checked. This will be visible to other users in the app. Ensure this user has been properly screened and background checked before you continue.",buttons:[{text:"Cancel",role:"cancel",handler:function(n){}},{text:"Continue",handler:function(n){l.security_check=!0,u.adminService.checkUser(l.user_id).then((function(){u.getUsers()})).catch((function(){l.security_check=!1}))}}]}).then((function(n){n.present()}))},n.prototype.callUser=function(n){this.iab.create("tel:"+n.phone,"_system")},n.prototype.formatDate=function(n){var l=-(new Date).getTimezoneOffset();return g(n).add(l,"m").calendar()},n}(),m=t.rb({encapsulation:0,styles:[[".manage-users[_ngcontent-%COMP%]   .manage-users__loading[_ngcontent-%COMP%]{text-align:center;margin-top:60px}.manage-users[_ngcontent-%COMP%]   .manage-users__empty[_ngcontent-%COMP%]{text-align:center;opacity:.2;padding-top:60px;padding-bottom:60px}.manage-users[_ngcontent-%COMP%]   .manage-users__empty[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:60px}.manage-users[_ngcontent-%COMP%]   .manage-users__empty[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:5px 0 0;font-size:22px}.manage-users[_ngcontent-%COMP%]   .manage-users__list[_ngcontent-%COMP%]   .manage-users__list__user[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.05);padding-bottom:20px;margin-bottom:10px}.manage-users[_ngcontent-%COMP%]   .manage-users__list[_ngcontent-%COMP%]   .manage-users__list__user[_ngcontent-%COMP%]   .manage-users__list__user__actions[_ngcontent-%COMP%]{text-align:center}"]],data:{}});function f(n){return t.Ob(0,[(n()(),t.tb(0,0,null,null,2,"div",[["class","manage-users__loading"]],null,null,null,null,null)),(n()(),t.tb(1,0,null,null,1,"ion-spinner",[["color","primary"]],null,null,null,i.ub,i.G)),t.sb(2,49152,null,0,r.ub,[t.h,t.k,t.z],{color:[0,"color"]},null)],(function(n,l){n(l,2,0,"primary")}),null)}function _(n){return t.Ob(0,[(n()(),t.tb(0,0,null,null,4,"div",[["class","manage-users__empty"]],null,null,null,null,null)),(n()(),t.tb(1,0,null,null,1,"ion-icon",[["name","people"]],null,null,null,i.fb,i.r)),t.sb(2,49152,null,0,r.E,[t.h,t.k,t.z],{name:[0,"name"]},null),(n()(),t.tb(3,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),t.Mb(-1,null,["No Unchecked Users"]))],(function(n,l){n(l,2,0,"people")}),null)}function d(n){return t.Ob(0,[(n()(),t.tb(0,0,null,null,2,"ion-avatar",[["slot","start"]],null,null,null,i.P,i.b)),t.sb(1,49152,null,0,r.h,[t.h,t.k,t.z],null,null),(n()(),t.tb(2,0,null,0,0,"img",[],[[8,"src",4]],null,null,null,null))],null,(function(n,l){n(l,2,0,l.parent.context.$implicit.avatar)}))}function h(n){return t.Ob(0,[(n()(),t.tb(0,0,null,null,20,"div",[["class","manage-users__list__user"]],null,null,null,null,null)),(n()(),t.tb(1,0,null,null,12,"ion-item",[["lines","none"],["routerDirection","forward"]],null,[[null,"click"]],(function(n,l,u){var e=!0;return"click"===l&&(e=!1!==t.Eb(n,3).onClick()&&e),"click"===l&&(e=!1!==t.Eb(n,5).onClick(u)&&e),e}),i.jb,i.v)),t.sb(2,49152,null,0,r.J,[t.h,t.k,t.z],{lines:[0,"lines"],routerDirection:[1,"routerDirection"]},null),t.sb(3,16384,null,0,s.n,[s.m,s.a,[8,null],t.D,t.k],{routerLink:[0,"routerLink"]},null),t.Fb(4,1),t.sb(5,737280,null,0,r.Pb,[a.h,r.Kb,t.k,s.m,[2,s.n]],{routerDirection:[0,"routerDirection"]},null),(n()(),t.ib(16777216,null,0,1,null,d)),t.sb(7,16384,null,0,a.k,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(n()(),t.tb(8,0,null,0,5,"ion-label",[],null,null,null,i.kb,i.w)),t.sb(9,49152,null,0,r.P,[t.h,t.k,t.z],null,null),(n()(),t.tb(10,0,null,0,1,"h2",[],null,null,null,null,null)),(n()(),t.Mb(11,null,[""," ",""])),(n()(),t.tb(12,0,null,0,1,"p",[],null,null,null,null,null)),(n()(),t.Mb(13,null,["Signed up ",""])),(n()(),t.tb(14,0,null,null,6,"div",[["class","manage-users__list__user__actions"]],null,null,null,null,null)),(n()(),t.tb(15,0,null,null,2,"ion-button",[["color","dark"],["fill","outline"],["slot","end"]],null,[[null,"click"]],(function(n,l,u){var t=!0;return"click"===l&&(t=!1!==n.component.callUser(n.context.$implicit)&&t),t}),i.S,i.e)),t.sb(16,49152,null,0,r.m,[t.h,t.k,t.z],{color:[0,"color"],fill:[1,"fill"]},null),(n()(),t.Mb(-1,0,[" Call User "])),(n()(),t.tb(18,0,null,null,2,"ion-button",[["fill","outline"],["slot","end"]],null,[[null,"click"]],(function(n,l,u){var t=!0;return"click"===l&&(t=!1!==n.component.markAsChecked(u,n.context.$implicit)&&t),t}),i.S,i.e)),t.sb(19,49152,null,0,r.m,[t.h,t.k,t.z],{disabled:[0,"disabled"],fill:[1,"fill"]},null),(n()(),t.Mb(-1,0,[" Mark As Checked "]))],(function(n,l){n(l,2,0,"none","forward");var u=n(l,4,0,"/profiles/"+l.context.$implicit.user_id);n(l,3,0,u),n(l,5,0,"forward"),n(l,7,0,l.context.$implicit.avatar),n(l,16,0,"dark","outline"),n(l,19,0,l.context.$implicit.security_check,"outline")}),(function(n,l){var u=l.component;n(l,11,0,l.context.$implicit.first_name,l.context.$implicit.last_name),n(l,13,0,u.formatDate(l.context.$implicit.created_at))}))}function k(n){return t.Ob(0,[(n()(),t.tb(0,0,null,null,13,"ion-header",[],null,null,null,i.eb,i.q)),t.sb(1,49152,null,0,r.D,[t.h,t.k,t.z],null,null),(n()(),t.tb(2,0,null,0,11,"ion-toolbar",[["color","primary"]],null,null,null,i.Bb,i.N)),t.sb(3,49152,null,0,r.Eb,[t.h,t.k,t.z],{color:[0,"color"]},null),(n()(),t.tb(4,0,null,0,6,"ion-buttons",[["slot","start"]],null,null,null,i.T,i.f)),t.sb(5,49152,null,0,r.n,[t.h,t.k,t.z],null,null),(n()(),t.tb(6,0,null,0,4,"ion-button",[],null,null,null,i.S,i.e)),t.sb(7,49152,null,0,r.m,[t.h,t.k,t.z],null,null),(n()(),t.tb(8,0,null,0,2,"ion-back-button",[["defaultHref","/tabs/jobs"]],null,[[null,"click"]],(function(n,l,u){var e=!0;return"click"===l&&(e=!1!==t.Eb(n,10).onClick(u)&&e),e}),i.Q,i.c)),t.sb(9,49152,null,0,r.i,[t.h,t.k,t.z],{defaultHref:[0,"defaultHref"]},null),t.sb(10,16384,null,0,r.j,[[2,r.kb],r.Kb],{defaultHref:[0,"defaultHref"]},null),(n()(),t.tb(11,0,null,0,2,"ion-title",[],null,null,null,i.Ab,i.M)),t.sb(12,49152,null,0,r.Cb,[t.h,t.k,t.z],null,null),(n()(),t.Mb(-1,0,["Manage Users"])),(n()(),t.tb(14,0,null,null,9,"ion-content",[["class","manage-users"]],null,null,null,i.bb,i.n)),t.sb(15,49152,null,0,r.w,[t.h,t.k,t.z],null,null),(n()(),t.ib(16777216,null,0,1,null,f)),t.sb(17,16384,null,0,a.k,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(n()(),t.ib(16777216,null,0,1,null,_)),t.sb(19,16384,null,0,a.k,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(n()(),t.tb(20,0,null,0,3,"ion-list",[["class","manage-users__list"]],null,null,null,i.mb,i.x)),t.sb(21,49152,null,0,r.Q,[t.h,t.k,t.z],null,null),(n()(),t.ib(16777216,null,0,1,null,h)),t.sb(23,278528,null,0,a.j,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){var u=l.component;n(l,3,0,"primary"),n(l,9,0,"/tabs/jobs"),n(l,10,0,"/tabs/jobs"),n(l,17,0,u.loading),n(l,19,0,u.users.length<1&&!u.loading),n(l,23,0,u.users)}),null)}function C(n){return t.Ob(0,[(n()(),t.tb(0,0,null,null,1,"app-manage-users",[],null,null,null,k,m)),t.sb(1,114688,null,0,p,[c.a,r.b,b.a],null,null)],(function(n,l){n(l,1,0)}),null)}var O=t.pb("app-manage-users",p,C,{},{},[]),M=u("gIcY"),v=function(){return function(){}}();u.d(l,"ManageUsersPageModuleNgFactory",(function(){return x}));var x=t.qb(e,[],(function(n){return t.Bb([t.Cb(512,t.j,t.bb,[[8,[o.a,O]],[3,t.j],t.x]),t.Cb(4608,a.m,a.l,[t.u,[2,a.x]]),t.Cb(4608,M.l,M.l,[]),t.Cb(4608,r.c,r.c,[t.z,t.g]),t.Cb(4608,r.Jb,r.Jb,[r.c,t.j,t.q]),t.Cb(4608,r.Ob,r.Ob,[r.c,t.j,t.q]),t.Cb(1073742336,a.b,a.b,[]),t.Cb(1073742336,M.k,M.k,[]),t.Cb(1073742336,M.b,M.b,[]),t.Cb(1073742336,r.Gb,r.Gb,[]),t.Cb(1073742336,s.p,s.p,[[2,s.u],[2,s.m]]),t.Cb(1073742336,v,v,[]),t.Cb(1073742336,e,e,[]),t.Cb(1024,s.k,(function(){return[[{path:"",component:p}]]}),[])])}))}}]);