(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{RQqD:function(l,n,u){"use strict";u.r(n);var e=u("8Y7J");class t{}var r=u("pMnS"),i=u("oBZk"),o=u("ZZ/e"),a=u("iInd"),s=u("SVse"),c=u("VKgo"),b=u("9B/o"),g=u("wd/R");class m{constructor(l,n,u){this.adminService=l,this.alertCtrl=n,this.iab=u,this.loading=!0,this.users=[],this.getUsers()}ngOnInit(){}getUsers(){this.adminService.getUsers().then(l=>{this.loading=!1,this.users=l}).catch(()=>{this.loading=!1})}markAsChecked(l,n){l.stopPropagation(),l.preventDefault(),this.alertCtrl.create({header:"Are you sure?",message:"You are about to mark this user as security checked. This will be visible to other users in the app. Ensure this user has been properly screened and background checked before you continue.",buttons:[{text:"Cancel",role:"cancel",handler:l=>{}},{text:"Continue",handler:l=>{n.security_check=!0,this.adminService.checkUser(n.user_id).then(()=>{this.getUsers()}).catch(()=>{n.security_check=!1})}}]}).then(l=>{l.present()})}callUser(l){this.iab.create("tel:"+l.phone,"_system")}formatDate(l){let n=-(new Date).getTimezoneOffset();return g(l).add(n,"m").calendar()}}var p=e.pb({encapsulation:0,styles:[[".manage-users[_ngcontent-%COMP%]   .manage-users__loading[_ngcontent-%COMP%]{text-align:center;margin-top:60px}.manage-users[_ngcontent-%COMP%]   .manage-users__empty[_ngcontent-%COMP%]{text-align:center;opacity:.2;padding-top:60px;padding-bottom:60px}.manage-users[_ngcontent-%COMP%]   .manage-users__empty[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:60px}.manage-users[_ngcontent-%COMP%]   .manage-users__empty[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:5px 0 0;font-size:22px}.manage-users[_ngcontent-%COMP%]   .manage-users__list[_ngcontent-%COMP%]   .manage-users__list__user[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.05);padding-bottom:20px;margin-bottom:10px}.manage-users[_ngcontent-%COMP%]   .manage-users__list[_ngcontent-%COMP%]   .manage-users__list__user[_ngcontent-%COMP%]   .manage-users__list__user__actions[_ngcontent-%COMP%]{text-align:center}"]],data:{}});function _(l){return e.Mb(0,[(l()(),e.rb(0,0,null,null,2,"div",[["class","manage-users__loading"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"ion-spinner",[["color","primary"]],null,null,null,i.ub,i.G)),e.qb(2,49152,null,0,o.ub,[e.h,e.k,e.x],{color:[0,"color"]},null)],(function(l,n){l(n,2,0,"primary")}),null)}function d(l){return e.Mb(0,[(l()(),e.rb(0,0,null,null,4,"div",[["class","manage-users__empty"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"ion-icon",[["name","people"]],null,null,null,i.fb,i.r)),e.qb(2,49152,null,0,o.E,[e.h,e.k,e.x],{name:[0,"name"]},null),(l()(),e.rb(3,0,null,null,1,"h2",[],null,null,null,null,null)),(l()(),e.Kb(-1,null,["No Unchecked Users"]))],(function(l,n){l(n,2,0,"people")}),null)}function h(l){return e.Mb(0,[(l()(),e.rb(0,0,null,null,2,"ion-avatar",[["slot","start"]],null,null,null,i.P,i.b)),e.qb(1,49152,null,0,o.h,[e.h,e.k,e.x],null,null),(l()(),e.rb(2,0,null,0,0,"img",[],[[8,"src",4]],null,null,null,null))],null,(function(l,n){l(n,2,0,n.parent.context.$implicit.avatar)}))}function f(l){return e.Mb(0,[(l()(),e.rb(0,0,null,null,20,"div",[["class","manage-users__list__user"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,12,"ion-item",[["lines","none"],["routerDirection","forward"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.Cb(l,3).onClick()&&t),"click"===n&&(t=!1!==e.Cb(l,5).onClick(u)&&t),t}),i.jb,i.v)),e.qb(2,49152,null,0,o.J,[e.h,e.k,e.x],{lines:[0,"lines"],routerDirection:[1,"routerDirection"]},null),e.qb(3,16384,null,0,a.n,[a.m,a.a,[8,null],e.B,e.k],{routerLink:[0,"routerLink"]},null),e.Db(4,1),e.qb(5,737280,null,0,o.Pb,[s.h,o.Kb,e.k,a.m,[2,a.n]],{routerDirection:[0,"routerDirection"]},null),(l()(),e.gb(16777216,null,0,1,null,h)),e.qb(7,16384,null,0,s.k,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(8,0,null,0,5,"ion-label",[],null,null,null,i.kb,i.w)),e.qb(9,49152,null,0,o.P,[e.h,e.k,e.x],null,null),(l()(),e.rb(10,0,null,0,1,"h2",[],null,null,null,null,null)),(l()(),e.Kb(11,null,[""," ",""])),(l()(),e.rb(12,0,null,0,1,"p",[],null,null,null,null,null)),(l()(),e.Kb(13,null,["Signed up ",""])),(l()(),e.rb(14,0,null,null,6,"div",[["class","manage-users__list__user__actions"]],null,null,null,null,null)),(l()(),e.rb(15,0,null,null,2,"ion-button",[["color","dark"],["fill","outline"],["slot","end"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.callUser(l.context.$implicit)&&e),e}),i.S,i.e)),e.qb(16,49152,null,0,o.m,[e.h,e.k,e.x],{color:[0,"color"],fill:[1,"fill"]},null),(l()(),e.Kb(-1,0,[" Call User "])),(l()(),e.rb(18,0,null,null,2,"ion-button",[["fill","outline"],["slot","end"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.markAsChecked(u,l.context.$implicit)&&e),e}),i.S,i.e)),e.qb(19,49152,null,0,o.m,[e.h,e.k,e.x],{disabled:[0,"disabled"],fill:[1,"fill"]},null),(l()(),e.Kb(-1,0,[" Mark As Checked "]))],(function(l,n){l(n,2,0,"none","forward");var u=l(n,4,0,"/profiles/"+n.context.$implicit.user_id);l(n,3,0,u),l(n,5,0,"forward"),l(n,7,0,n.context.$implicit.avatar),l(n,16,0,"dark","outline"),l(n,19,0,n.context.$implicit.security_check,"outline")}),(function(l,n){var u=n.component;l(n,11,0,n.context.$implicit.first_name,n.context.$implicit.last_name),l(n,13,0,u.formatDate(n.context.$implicit.created_at))}))}function k(l){return e.Mb(0,[(l()(),e.rb(0,0,null,null,13,"ion-header",[],null,null,null,i.eb,i.q)),e.qb(1,49152,null,0,o.D,[e.h,e.k,e.x],null,null),(l()(),e.rb(2,0,null,0,11,"ion-toolbar",[["color","primary"]],null,null,null,i.Bb,i.N)),e.qb(3,49152,null,0,o.Eb,[e.h,e.k,e.x],{color:[0,"color"]},null),(l()(),e.rb(4,0,null,0,6,"ion-buttons",[["slot","start"]],null,null,null,i.T,i.f)),e.qb(5,49152,null,0,o.n,[e.h,e.k,e.x],null,null),(l()(),e.rb(6,0,null,0,4,"ion-button",[],null,null,null,i.S,i.e)),e.qb(7,49152,null,0,o.m,[e.h,e.k,e.x],null,null),(l()(),e.rb(8,0,null,0,2,"ion-back-button",[["defaultHref","/tabs/jobs"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.Cb(l,10).onClick(u)&&t),t}),i.Q,i.c)),e.qb(9,49152,null,0,o.i,[e.h,e.k,e.x],{defaultHref:[0,"defaultHref"]},null),e.qb(10,16384,null,0,o.j,[[2,o.kb],o.Kb],{defaultHref:[0,"defaultHref"]},null),(l()(),e.rb(11,0,null,0,2,"ion-title",[],null,null,null,i.Ab,i.M)),e.qb(12,49152,null,0,o.Cb,[e.h,e.k,e.x],null,null),(l()(),e.Kb(-1,0,["Manage Users"])),(l()(),e.rb(14,0,null,null,9,"ion-content",[["class","manage-users"]],null,null,null,i.bb,i.n)),e.qb(15,49152,null,0,o.w,[e.h,e.k,e.x],null,null),(l()(),e.gb(16777216,null,0,1,null,_)),e.qb(17,16384,null,0,s.k,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.gb(16777216,null,0,1,null,d)),e.qb(19,16384,null,0,s.k,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(20,0,null,0,3,"ion-list",[["class","manage-users__list"]],null,null,null,i.mb,i.x)),e.qb(21,49152,null,0,o.Q,[e.h,e.k,e.x],null,null),(l()(),e.gb(16777216,null,0,1,null,f)),e.qb(23,278528,null,0,s.j,[e.M,e.J,e.q],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var u=n.component;l(n,3,0,"primary"),l(n,9,0,"/tabs/jobs"),l(n,10,0,"/tabs/jobs"),l(n,17,0,u.loading),l(n,19,0,u.users.length<1&&!u.loading),l(n,23,0,u.users)}),null)}function x(l){return e.Mb(0,[(l()(),e.rb(0,0,null,null,1,"app-manage-users",[],null,null,null,k,p)),e.qb(1,114688,null,0,m,[c.a,o.b,b.a],null,null)],(function(l,n){l(n,1,0)}),null)}var M=e.nb("app-manage-users",m,x,{},{},[]),C=u("s7LF");class q{}u.d(n,"ManageUsersPageModuleNgFactory",(function(){return v}));var v=e.ob(t,[],(function(l){return e.zb([e.Ab(512,e.j,e.Z,[[8,[r.a,M]],[3,e.j],e.v]),e.Ab(4608,s.m,s.l,[e.s,[2,s.x]]),e.Ab(4608,C.l,C.l,[]),e.Ab(4608,o.c,o.c,[e.x,e.g]),e.Ab(4608,o.Jb,o.Jb,[o.c,e.j,e.p]),e.Ab(4608,o.Ob,o.Ob,[o.c,e.j,e.p]),e.Ab(1073742336,s.b,s.b,[]),e.Ab(1073742336,C.k,C.k,[]),e.Ab(1073742336,C.b,C.b,[]),e.Ab(1073742336,o.Gb,o.Gb,[]),e.Ab(1073742336,a.p,a.p,[[2,a.u],[2,a.m]]),e.Ab(1073742336,q,q,[]),e.Ab(1073742336,t,t,[]),e.Ab(1024,a.k,(function(){return[[{path:"",component:m}]]}),[])])}))}}]);