(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{GiW4:function(l,n,t){"use strict";t.r(n);var u=t("8Y7J");class i{}var e=t("pMnS"),o=t("oBZk"),a=t("ZZ/e"),c=t("SVse"),r=t("iInd"),p=t("XzbV");class b{constructor(l,n,t,u){this.alertCtrl=l,this.jobService=n,this.route=t,this.navController=u,this.job={id:this.route.snapshot.params.id},this.applications=[],this.loading=!0,this.getJob()}ngOnInit(){}getJob(){this.jobService.getJob(this.job.id).then(l=>{this.job=l,this.applications=this.job.applications?this.job.applications:[],this.loading=!1}).catch(()=>{this.loading=!1})}accept(l){this.alertCtrl.create({header:"Accept "+(l.profile?l.profile.first_name+" "+l.profile.last_name:" applicant"),message:"Are you sure you want to accept this applicant"+(l.profile&&l.profile.hourly_rate?" at $"+l.profile.hourly_rate+"/hour":"")+"? By doing so, they will be able to see your contact information and will be notified that they will need to complete the job.",buttons:[{text:"Cancel",role:"cancel",handler:l=>{}},{text:"Accept",handler:n=>{console.log("accepted"),l.status="accepted",this.jobService.acceptApplication(l.id).then(()=>{this.navController.back()}).catch(()=>{l.status="pending",this.displayError()})}}]}).then(l=>{l.present()})}decline(l){this.alertCtrl.create({header:"Decline "+(l.profile?l.profile.first_name+" "+l.profile.last_name:" applicant"),message:"Are you sure you want to decline this applicant? By doing so, they will no longer be eligible for this job.",buttons:[{text:"Cancel",role:"cancel",handler:l=>{}},{text:"Decline",handler:n=>{l.status="declined",this.jobService.declineApplication(l.id).then(()=>{}).catch(()=>{l.status="pending",this.displayError()})}}]}).then(l=>{l.present()})}displayError(){this.alertCtrl.create({header:"Error",message:"There was an error. Please try again soon.",buttons:[{text:"Dismiss",role:"cancel",handler:l=>{}}]}).then(l=>{l.present()})}}var s=u.pb({encapsulation:0,styles:[[".applications[_ngcontent-%COMP%]   .applications__loading[_ngcontent-%COMP%]{text-align:center;margin-top:60px}.applications[_ngcontent-%COMP%]   .applications__empty[_ngcontent-%COMP%]{text-align:center;opacity:.2;padding-top:60px;padding-bottom:60px}.applications[_ngcontent-%COMP%]   .applications__empty[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:60px}.applications[_ngcontent-%COMP%]   .applications__empty[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:5px 0 0;font-size:22px}.applications[_ngcontent-%COMP%]   .applications__list[_ngcontent-%COMP%]   .application[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.05);padding-bottom:20px;margin-bottom:10px}.applications[_ngcontent-%COMP%]   .applications__list[_ngcontent-%COMP%]   .application[_ngcontent-%COMP%]   .application__actions[_ngcontent-%COMP%]{text-align:center}"]],data:{}});function f(l){return u.Mb(0,[(l()(),u.rb(0,0,null,null,2,"div",[["class","applications__loading"]],null,null,null,null,null)),(l()(),u.rb(1,0,null,null,1,"ion-spinner",[["color","primary"]],null,null,null,o.ub,o.G)),u.qb(2,49152,null,0,a.ub,[u.h,u.k,u.x],{color:[0,"color"]},null)],(function(l,n){l(n,2,0,"primary")}),null)}function d(l){return u.Mb(0,[(l()(),u.rb(0,0,null,null,4,"div",[["class","applications__empty"]],null,null,null,null,null)),(l()(),u.rb(1,0,null,null,1,"ion-icon",[["name","people"]],null,null,null,o.fb,o.r)),u.qb(2,49152,null,0,a.E,[u.h,u.k,u.x],{name:[0,"name"]},null),(l()(),u.rb(3,0,null,null,1,"h2",[],null,null,null,null,null)),(l()(),u.Kb(-1,null,["No Applications"]))],(function(l,n){l(n,2,0,"people")}),null)}function g(l){return u.Mb(0,[(l()(),u.rb(0,0,null,null,2,"ion-avatar",[["slot","start"]],null,null,null,o.P,o.b)),u.qb(1,49152,null,0,a.h,[u.h,u.k,u.x],null,null),(l()(),u.rb(2,0,null,0,0,"img",[],[[8,"src",4]],null,null,null,null))],null,(function(l,n){l(n,2,0,n.parent.context.$implicit.profile.avatar)}))}function h(l){return u.Mb(0,[(l()(),u.rb(0,0,null,null,1,"h2",[],null,null,null,null,null)),(l()(),u.Kb(1,null,[""," ",""]))],null,(function(l,n){l(n,1,0,n.parent.context.$implicit.profile.first_name,n.parent.context.$implicit.profile.last_name)}))}function m(l){return u.Mb(0,[(l()(),u.rb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Kb(-1,null,["Accept"]))],null,null)}function x(l){return u.Mb(0,[(l()(),u.rb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Kb(-1,null,["Accepted"]))],null,null)}function _(l){return u.Mb(0,[(l()(),u.rb(0,0,null,null,5,"ion-button",[["fill","outline"],["slot","end"]],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.accept(l.parent.context.$implicit)&&u),u}),o.S,o.e)),u.qb(1,49152,null,0,a.m,[u.h,u.k,u.x],{disabled:[0,"disabled"],fill:[1,"fill"]},null),(l()(),u.gb(16777216,null,0,1,null,m)),u.qb(3,16384,null,0,c.k,[u.M,u.J],{ngIf:[0,"ngIf"]},null),(l()(),u.gb(16777216,null,0,1,null,x)),u.qb(5,16384,null,0,c.k,[u.M,u.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,1,0,"pending"!==n.parent.context.$implicit.status,"outline"),l(n,3,0,"accepted"!==n.parent.context.$implicit.status),l(n,5,0,"accepted"===n.parent.context.$implicit.status)}),null)}function k(l){return u.Mb(0,[(l()(),u.rb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Kb(-1,null,["Decline"]))],null,null)}function M(l){return u.Mb(0,[(l()(),u.rb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Kb(-1,null,["Declined"]))],null,null)}function q(l){return u.Mb(0,[(l()(),u.rb(0,0,null,null,5,"ion-button",[["color","danger"],["fill","outline"],["slot","end"]],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.decline(l.parent.context.$implicit)&&u),u}),o.S,o.e)),u.qb(1,49152,null,0,a.m,[u.h,u.k,u.x],{color:[0,"color"],disabled:[1,"disabled"],fill:[2,"fill"]},null),(l()(),u.gb(16777216,null,0,1,null,k)),u.qb(3,16384,null,0,c.k,[u.M,u.J],{ngIf:[0,"ngIf"]},null),(l()(),u.gb(16777216,null,0,1,null,M)),u.qb(5,16384,null,0,c.k,[u.M,u.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,1,0,"danger","pending"!==n.parent.context.$implicit.status,"outline"),l(n,3,0,"declined"!==n.parent.context.$implicit.status),l(n,5,0,"declined"===n.parent.context.$implicit.status)}),null)}function C(l){return u.Mb(0,[(l()(),u.rb(0,0,null,null,18,"div",[["class","applications__list__application application"]],null,null,null,null,null)),(l()(),u.rb(1,0,null,null,12,"ion-item",[["lines","none"],["routerDirection","forward"]],null,[[null,"click"]],(function(l,n,t){var i=!0;return"click"===n&&(i=!1!==u.Cb(l,3).onClick()&&i),"click"===n&&(i=!1!==u.Cb(l,5).onClick(t)&&i),i}),o.jb,o.v)),u.qb(2,49152,null,0,a.J,[u.h,u.k,u.x],{lines:[0,"lines"],routerDirection:[1,"routerDirection"]},null),u.qb(3,16384,null,0,r.n,[r.m,r.a,[8,null],u.B,u.k],{routerLink:[0,"routerLink"]},null),u.Db(4,1),u.qb(5,737280,null,0,a.Pb,[c.h,a.Kb,u.k,r.m,[2,r.n]],{routerDirection:[0,"routerDirection"]},null),(l()(),u.gb(16777216,null,0,1,null,g)),u.qb(7,16384,null,0,c.k,[u.M,u.J],{ngIf:[0,"ngIf"]},null),(l()(),u.rb(8,0,null,0,5,"ion-label",[["class","ion-text-wrap"]],null,null,null,o.kb,o.w)),u.qb(9,49152,null,0,a.P,[u.h,u.k,u.x],null,null),(l()(),u.gb(16777216,null,0,1,null,h)),u.qb(11,16384,null,0,c.k,[u.M,u.J],{ngIf:[0,"ngIf"]},null),(l()(),u.rb(12,0,null,0,1,"p",[],null,null,null,null,null)),(l()(),u.Kb(13,null,["",""])),(l()(),u.rb(14,0,null,null,4,"div",[["class","application__actions"]],null,null,null,null,null)),(l()(),u.gb(16777216,null,null,1,null,_)),u.qb(16,16384,null,0,c.k,[u.M,u.J],{ngIf:[0,"ngIf"]},null),(l()(),u.gb(16777216,null,null,1,null,q)),u.qb(18,16384,null,0,c.k,[u.M,u.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,"none","forward");var t=l(n,4,0,"/profiles/"+n.context.$implicit.user_id);l(n,3,0,t),l(n,5,0,"forward"),l(n,7,0,n.context.$implicit.profile),l(n,11,0,n.context.$implicit.profile),l(n,16,0,"declined"!==n.context.$implicit.status),l(n,18,0,"accepted"!==n.context.$implicit.status)}),(function(l,n){l(n,13,0,n.context.$implicit.comments)}))}function y(l){return u.Mb(0,[(l()(),u.rb(0,0,null,null,13,"ion-header",[],null,null,null,o.eb,o.q)),u.qb(1,49152,null,0,a.D,[u.h,u.k,u.x],null,null),(l()(),u.rb(2,0,null,0,11,"ion-toolbar",[["color","primary"]],null,null,null,o.Bb,o.N)),u.qb(3,49152,null,0,a.Eb,[u.h,u.k,u.x],{color:[0,"color"]},null),(l()(),u.rb(4,0,null,0,6,"ion-buttons",[["slot","start"]],null,null,null,o.T,o.f)),u.qb(5,49152,null,0,a.n,[u.h,u.k,u.x],null,null),(l()(),u.rb(6,0,null,0,4,"ion-button",[],null,null,null,o.S,o.e)),u.qb(7,49152,null,0,a.m,[u.h,u.k,u.x],null,null),(l()(),u.rb(8,0,null,0,2,"ion-back-button",[["defaultHref","/home"]],null,[[null,"click"]],(function(l,n,t){var i=!0;return"click"===n&&(i=!1!==u.Cb(l,10).onClick(t)&&i),i}),o.Q,o.c)),u.qb(9,49152,null,0,a.i,[u.h,u.k,u.x],{defaultHref:[0,"defaultHref"]},null),u.qb(10,16384,null,0,a.j,[[2,a.kb],a.Kb],{defaultHref:[0,"defaultHref"]},null),(l()(),u.rb(11,0,null,0,2,"ion-title",[],null,null,null,o.Ab,o.M)),u.qb(12,49152,null,0,a.Cb,[u.h,u.k,u.x],null,null),(l()(),u.Kb(-1,0,["Applications"])),(l()(),u.rb(14,0,null,null,9,"ion-content",[["class","applications"]],null,null,null,o.bb,o.n)),u.qb(15,49152,null,0,a.w,[u.h,u.k,u.x],null,null),(l()(),u.gb(16777216,null,0,1,null,f)),u.qb(17,16384,null,0,c.k,[u.M,u.J],{ngIf:[0,"ngIf"]},null),(l()(),u.gb(16777216,null,0,1,null,d)),u.qb(19,16384,null,0,c.k,[u.M,u.J],{ngIf:[0,"ngIf"]},null),(l()(),u.rb(20,0,null,0,3,"ion-list",[["class","applications__list"]],null,null,null,o.mb,o.x)),u.qb(21,49152,null,0,a.Q,[u.h,u.k,u.x],null,null),(l()(),u.gb(16777216,null,0,1,null,C)),u.qb(23,278528,null,0,c.j,[u.M,u.J,u.q],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var t=n.component;l(n,3,0,"primary"),l(n,9,0,"/home"),l(n,10,0,"/home"),l(n,17,0,t.loading),l(n,19,0,t.applications.length<1&&!t.loading),l(n,23,0,t.applications)}),null)}function A(l){return u.Mb(0,[(l()(),u.rb(0,0,null,null,1,"app-job-applications",[],null,null,null,y,s)),u.qb(1,114688,null,0,b,[a.b,p.a,r.a,a.Kb],null,null)],(function(l,n){l(n,1,0)}),null)}var v=u.nb("app-job-applications",b,A,{},{},[]),I=t("s7LF");class O{}t.d(n,"JobApplicationsPageModuleNgFactory",(function(){return P}));var P=u.ob(i,[],(function(l){return u.zb([u.Ab(512,u.j,u.Z,[[8,[e.a,v]],[3,u.j],u.v]),u.Ab(4608,c.m,c.l,[u.s,[2,c.x]]),u.Ab(4608,I.l,I.l,[]),u.Ab(4608,a.c,a.c,[u.x,u.g]),u.Ab(4608,a.Jb,a.Jb,[a.c,u.j,u.p]),u.Ab(4608,a.Ob,a.Ob,[a.c,u.j,u.p]),u.Ab(1073742336,c.b,c.b,[]),u.Ab(1073742336,I.k,I.k,[]),u.Ab(1073742336,I.b,I.b,[]),u.Ab(1073742336,a.Gb,a.Gb,[]),u.Ab(1073742336,r.p,r.p,[[2,r.u],[2,r.m]]),u.Ab(1073742336,O,O,[]),u.Ab(1073742336,i,i,[]),u.Ab(1024,r.k,(function(){return[[{path:"",component:b}]]}),[])])}))}}]);