{"version":3,"sources":["./src/app/pages/submission/submission.page.html","./src/app/pages/submission/submission-routing.module.ts","./src/app/pages/submission/submission.module.ts","./src/app/pages/submission/submission.page.scss","./src/app/pages/submission/submission.page.ts"],"names":[],"mappings":";;;;;;;;;AAAA,wRAAwR,eAAe,iSAAiS,iBAAiB,ueAAue,YAAY,iCAAiC,6CAA6C,oTAAoT,YAAY,mRAAmR,YAAY,6UAA6U,YAAY,qCAAqC,0BAA0B,oK;;;;;;;;;;;;;;;;;;;ACAxmE;AACc;AAEJ;AAEnD,IAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,+DAAc;KAC1B;CACF,CAAC;AAMF;IAAA;IAA0C,CAAC;IAA9B,2BAA2B;QAJvC,8DAAQ,CAAC;YACR,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;YACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;SACxB,CAAC;OACW,2BAA2B,CAAG;IAAD,kCAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;AChBC;AACM;AACF;AAEA;AAE6B;AAEvB;AAWnD;IAAA;IAAmC,CAAC;IAAvB,oBAAoB;QAThC,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY;gBACZ,0DAAW;gBACX,0DAAW;gBACX,sFAA2B;aAC5B;YACD,YAAY,EAAE,CAAC,+DAAc,CAAC;SAC/B,CAAC;OACW,oBAAoB,CAAG;IAAD,2BAAC;CAAA;AAAH;;;;;;;;;;;;ACnBjC,8DAA8D,uBAAuB,qCAAqC,GAAG,+DAA+D,sBAAsB,GAAG,kEAAkE,sBAAsB,GAAG,oHAAoH,sBAAsB,wBAAwB,oBAAoB,mBAAmB,GAAG,8GAA8G,sBAAsB,8BAA8B,8BAA8B,kBAAkB,qBAAqB,GAAG,2GAA2G,sBAAsB,mBAAmB,GAAG,qGAAqG,4BAA4B,qBAAqB,uBAAuB,GAAG,6CAA6C,+7H;;;;;;;;;;;;;;;;;;;;;;;ACA7hC;AACd;AACc;AACkB;AACY;AAC1C;AACoB;AACL;AAShE;IAgBI,wBAAoB,WAAuB,EAAS,eAAgC,EACxE,MAAc,EAAU,qBAA2C,EAAU,KAAoB,EAAU,GAAiB,EAC5H,iBAAmC;QAF/C,iBA4BK;QA5Be,gBAAW,GAAX,WAAW,CAAY;QAAS,oBAAe,GAAf,eAAe,CAAiB;QACxE,WAAM,GAAN,MAAM,CAAQ;QAAU,0BAAqB,GAArB,qBAAqB,CAAsB;QAAU,UAAK,GAAL,KAAK,CAAe;QAAU,QAAG,GAAH,GAAG,CAAc;QAC5H,sBAAiB,GAAjB,iBAAiB,CAAkB;QAG3C,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QAEpB,IAAI,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QACpD,IAAI,CAAC,UAAU,GAAG,EAAC,EAAE,EAAC,YAAY,EAAC,CAAC;QAEpC,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;QACf,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;QACtB,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;QACxB,IAAI,CAAC,iBAAiB,CAAC,aAAa,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAC,IAAQ;YAEnE,KAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,KAAI,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC;YAC5B,KAAI,CAAC,OAAO,EAAE,CAAC;QACnB,CAAC,CAAC;QAGF,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;QACf,IAAI,CAAC,qBAAqB,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,UAAC,IAAI;YAEpD,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACrB,CAAC,CAAC,CAAC;IAGH,CAAC;IAEL,iCAAQ,GAAR;IACA,CAAC;IAKM,gCAAO,GAAd;QAAA,iBAcC;QAbG,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAC,IAAQ;YAGjD,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;YAEvB,KAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QAEzB,CAAC,CAAC,CAAC,KAAK,CAAC;YAGL,KAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACzB,CAAC,CAAC,CAAC;IAEP,CAAC;IAIO,oCAAW,GAAnB,UAAoB,IAAI;QAEpB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;QACtB,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;QAExB,IAAI,SAAS,GAAG,CAAC,CAAC;QAElB,KAAkB,UAAgB,EAAhB,SAAI,CAAC,IAAI,CAAC,MAAM,EAAhB,cAAgB,EAAhB,IAAgB,EAAC;YAA9B,IAAI,KAAK;YAEV,KAAmB,UAAuB,EAAvB,SAAI,CAAC,UAAU,CAAC,OAAO,EAAvB,cAAuB,EAAvB,IAAuB,EAAC;gBAAtC,IAAI,MAAM;gBACX,IAAI,MAAM,CAAC,QAAQ,KAAK,KAAK,CAAC,EAAE,EAAC;oBAC7B,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM;iBAC/B;aACJ;YAGD,IAAI,CAAC,KAAK,CAAC,cAAc,IAAI,IAAI,CAAC,aAAa,CAAC,WAAW,GAAG,SAAS,CAAC,EAAC;gBACrE,IAAI,CAAC,aAAa,CAAC,WAAW,GAAG,SAAS,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aAC3D;iBACI,IAAI,CAAC,KAAK,CAAC,cAAc,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,WAAW,GAAG,SAAS,CAAC,EAAC;gBAC3E,IAAI,CAAC,aAAa,CAAC,WAAW,GAAG,SAAS,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;gBACtD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAC,IAAI,EAAC,OAAO,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC,EAAE,EAAE,EAAC,WAAW,GAAG,SAAS,EAAC,CAAC,CAAC;aACrG;iBACI,IAAI,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,cAAc,CAAC,EAAC;gBAC9C,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBACrD,SAAS,IAAI,CAAC,CAAC;aAClB;iBACG;gBACA,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,cAAc,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;gBAEnD,KAAuB,UAAsB,EAAtB,SAAI,CAAC,IAAI,CAAC,YAAY,EAAtB,cAAsB,EAAtB,IAAsB,EAAC;oBAAzC,IAAI,UAAU;oBACf,IAAI,UAAU,CAAC,EAAE,KAAK,KAAK,CAAC,cAAc,EAAC;wBACvC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;wBAClC,MAAM;qBACT;iBACJ;gBAGD,SAAS,IAAI,CAAC,CAAC;aAClB;YAGD,KAAK,CAAC,aAAa,GAAG,KAAK,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;SAEpF;QAMD,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAC;YAE5B,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;SAClD;IACL,CAAC;IAIM,0CAAiB,GAAxB,UAAyB,YAAY;QAEjC,IAAI,CAAC,WAAW,GAAG,YAAY,CAAC;QAChC,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,cAAI,IAAI,WAAI,CAAC,EAAE,KAAK,YAAY,EAAxB,CAAwB,CAAC,CAAC;IAGzF,CAAC;IAGM,iCAAQ,GAAf,UAAgB,IAAI;QAChB,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;IACrC,CAAC;IAGM,mCAAU,GAAjB,UAAkB,IAAI;QAClB,OAAO,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;IACrD,CAAC;;gBAjI+B,uEAAW;gBAA0B,8DAAe;gBAChE,sDAAM;gBAAgC,qGAAqB;gBAAgB,8DAAc;gBAAe,6EAAY;gBAC1G,yFAAiB;;IAlBtC,cAAc;QAL1B,+DAAS,CAAC;YACT,QAAQ,EAAE,gBAAgB;YAC1B,4JAAqC;;SAEtC,CAAC;+EAiBkC,uEAAW,EAA0B,8DAAe;YAChE,sDAAM,EAAgC,qGAAqB,EAAgB,8DAAc,EAAe,6EAAY;YAC1G,yFAAiB;OAlBtC,cAAc,CAmJ1B;IAAD,qBAAC;CAAA;AAnJ0B","file":"pages-submission-submission-module.js","sourcesContent":["module.exports = \"<ion-header>\\n    <ion-toolbar color=\\\"primary\\\">\\n        <ion-buttons slot=\\\"start\\\">\\n            <ion-back-button defaultHref=\\\"/start\\\"></ion-back-button>\\n        </ion-buttons>          \\n        \\n        \\n        <ion-title>\\n            Submission #{{submission.id}}\\n        </ion-title>          \\n        \\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"submission\\\">\\n\\n    \\n    <div class=\\\"submission__form-group\\\" *ngFor=\\\"let fieldGroup of fieldGroups\\\">  \\n         \\n         \\n         <h1 class=\\\"submission__form-group__title\\\">{{fieldGroup.name}}</h1>\\n         \\n        <div class=\\\"submission__form-group__field\\\" *ngFor=\\\"let field of groupedFields[fieldGroup.id]\\\">\\n\\n             \\n             \\n            <ion-item class=\\\"submission__form-group__field__value\\\" \\n                      *ngIf=\\\"field.field_type !== 'draw' && field.field_type !== 'signature' && \\n                        field.field_type !== 'file_upload' && field.field_type !== 'question_group'\\\">\\n                <ion-label>\\n                    <h2>{{field.name}}</h2>\\n                    <h3>{{field.answer ? field.answer : \\\"No Answer\\\"}} </h3>\\n                </ion-label>\\n            </ion-item>  \\n             \\n             \\n            <div class=\\\"submission__form-group__field__value submission__form-group__field__value--image\\\" *ngIf=\\\"field.field_type === 'draw' || field.field_type === 'signature'\\\">\\n                <ion-label>{{field.name}}</ion-label>\\n                <img [src]=\\\"field.answer\\\" />\\n            </div>\\n         \\n\\n            <div class=\\\"submission__form-group__field__value submission__form-group__field__value--file\\\" *ngIf=\\\"field.field_type === 'document'\\\">\\n                <ion-label>{{field.name}}</ion-label>\\n                <a (click)=\\\"openFile(field.answer)\\\">View File</a>\\n            </div>  \\n             \\n             \\n\\n            <div class=\\\"submission__form-group__field__value submission__form-group__field__value--question-group\\\" *ngIf=\\\"field.field_type === 'question_group'\\\">\\n                <ion-label>{{field.name}}</ion-label>\\n                <pre>{{formatJSON(field.answer)}}</pre>\\n            </div>               \\n             \\n             \\n\\n        </div>         \\n         \\n    </div>\\n    \\n    \\n    \\n    \\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SubmissionPage } from './submission.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SubmissionPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SubmissionPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SubmissionPageRoutingModule } from './submission-routing.module';\n\nimport { SubmissionPage } from './submission.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SubmissionPageRoutingModule\n  ],\n  declarations: [SubmissionPage]\n})\nexport class SubmissionPageModule {}\n","module.exports = \".submission .submission__form-group__title {\\n  padding: 10px 15px;\\n  border-bottom: 1px solid #eb1c24;\\n}\\n.submission .submission__form-group__field__value ion-label {\\n  font-weight: bold;\\n}\\n.submission .submission__form-group__field__value ion-label h2 {\\n  font-weight: bold;\\n}\\n.submission .submission__form-group__field__value.submission__form-group__field__value--question-group ion-label {\\n  padding: 0px 15px;\\n  margin-bottom: 10px;\\n  margin-top: 5px;\\n  display: block;\\n}\\n.submission .submission__form-group__field__value.submission__form-group__field__value--question-group pre {\\n  max-height: 200px;\\n  background-color: #f7f7f7;\\n  border: 1px solid #dedede;\\n  padding: 15px;\\n  margin: 0px 15px;\\n}\\n.submission .submission__form-group__field__value.submission__form-group__field__value--image ion-label {\\n  padding: 0px 15px;\\n  display: block;\\n}\\n.submission .submission__form-group__field__value.submission__form-group__field__value--image img {\\n  border: 1px solid black;\\n  margin-top: 10px;\\n  margin-bottom: 5px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvc3VibWlzc2lvbi9EOlxcVGF5bG9yXFxEb2N1bWVudHNcXFdlYnNpdGVzXFxodGtpbmdsb2dnaW5nXFxhcHAvc3JjXFxhcHBcXHBhZ2VzXFxzdWJtaXNzaW9uXFxzdWJtaXNzaW9uLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvc3VibWlzc2lvbi9zdWJtaXNzaW9uLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFSTtFQUNJLGtCQUFBO0VBQ0osZ0NBQUE7QUNESjtBRE9RO0VBQ0ksaUJBQUE7QUNMWjtBRE1ZO0VBQ0ksaUJBQUE7QUNKaEI7QURXWTtFQUNJLGlCQUFBO0VBQ0EsbUJBQUE7RUFDQSxlQUFBO0VBQ0EsY0FBQTtBQ1RoQjtBRFlZO0VBQ0ksaUJBQUE7RUFDQSx5QkFBQTtFQUNBLHlCQUFBO0VBQ0EsYUFBQTtFQUNBLGdCQUFBO0FDVmhCO0FEZ0JZO0VBQ0ksaUJBQUE7RUFDQSxjQUFBO0FDZGhCO0FEaUJZO0VBQ1EsdUJBQUE7RUFDQSxnQkFBQTtFQUNBLGtCQUFBO0FDZnBCIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvc3VibWlzc2lvbi9zdWJtaXNzaW9uLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5zdWJtaXNzaW9ue1xyXG4gICAgXHJcbiAgICAuc3VibWlzc2lvbl9fZm9ybS1ncm91cF9fdGl0bGV7XHJcbiAgICAgICAgcGFkZGluZzogMTBweCAxNXB4O1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlYjFjMjQ7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC5zdWJtaXNzaW9uX19mb3JtLWdyb3VwX19maWVsZF9fdmFsdWV7XHJcbiAgICAgICAgXHJcbiAgICAgICAgXHJcbiAgICAgICAgaW9uLWxhYmVse1xyXG4gICAgICAgICAgICBmb250LXdlaWdodDpib2xkO1xyXG4gICAgICAgICAgICBoMntcclxuICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OmJvbGQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIFxyXG4gICAgICAgICYuc3VibWlzc2lvbl9fZm9ybS1ncm91cF9fZmllbGRfX3ZhbHVlLS1xdWVzdGlvbi1ncm91cHtcclxuICAgICAgICAgICAgaW9uLWxhYmVse1xyXG4gICAgICAgICAgICAgICAgcGFkZGluZzogMHB4IDE1cHg7XHJcbiAgICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG4gICAgICAgICAgICAgICAgbWFyZ2luLXRvcDogNXB4O1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHByZXtcclxuICAgICAgICAgICAgICAgIG1heC1oZWlnaHQ6IDIwMHB4O1xyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y3ZjdmNztcclxuICAgICAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZWRlZGU7XHJcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAxNXB4O1xyXG4gICAgICAgICAgICAgICAgbWFyZ2luOiAwcHggMTVweDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgJi5zdWJtaXNzaW9uX19mb3JtLWdyb3VwX19maWVsZF9fdmFsdWUtLWltYWdle1xyXG4gICAgICAgICAgICBpb24tbGFiZWx7XHJcbiAgICAgICAgICAgICAgICBwYWRkaW5nOjBweCAxNXB4O1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheTpibG9jaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaW1ne1xyXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbi10b3A6IDEwcHg7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogNXB4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBcclxuICAgIH1cclxuICAgIFxyXG59IiwiLnN1Ym1pc3Npb24gLnN1Ym1pc3Npb25fX2Zvcm0tZ3JvdXBfX3RpdGxlIHtcbiAgcGFkZGluZzogMTBweCAxNXB4O1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2ViMWMyNDtcbn1cbi5zdWJtaXNzaW9uIC5zdWJtaXNzaW9uX19mb3JtLWdyb3VwX19maWVsZF9fdmFsdWUgaW9uLWxhYmVsIHtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG4uc3VibWlzc2lvbiAuc3VibWlzc2lvbl9fZm9ybS1ncm91cF9fZmllbGRfX3ZhbHVlIGlvbi1sYWJlbCBoMiB7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuLnN1Ym1pc3Npb24gLnN1Ym1pc3Npb25fX2Zvcm0tZ3JvdXBfX2ZpZWxkX192YWx1ZS5zdWJtaXNzaW9uX19mb3JtLWdyb3VwX19maWVsZF9fdmFsdWUtLXF1ZXN0aW9uLWdyb3VwIGlvbi1sYWJlbCB7XG4gIHBhZGRpbmc6IDBweCAxNXB4O1xuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICBtYXJnaW4tdG9wOiA1cHg7XG4gIGRpc3BsYXk6IGJsb2NrO1xufVxuLnN1Ym1pc3Npb24gLnN1Ym1pc3Npb25fX2Zvcm0tZ3JvdXBfX2ZpZWxkX192YWx1ZS5zdWJtaXNzaW9uX19mb3JtLWdyb3VwX19maWVsZF9fdmFsdWUtLXF1ZXN0aW9uLWdyb3VwIHByZSB7XG4gIG1heC1oZWlnaHQ6IDIwMHB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjdmN2Y3O1xuICBib3JkZXI6IDFweCBzb2xpZCAjZGVkZWRlO1xuICBwYWRkaW5nOiAxNXB4O1xuICBtYXJnaW46IDBweCAxNXB4O1xufVxuLnN1Ym1pc3Npb24gLnN1Ym1pc3Npb25fX2Zvcm0tZ3JvdXBfX2ZpZWxkX192YWx1ZS5zdWJtaXNzaW9uX19mb3JtLWdyb3VwX19maWVsZF9fdmFsdWUtLWltYWdlIGlvbi1sYWJlbCB7XG4gIHBhZGRpbmc6IDBweCAxNXB4O1xuICBkaXNwbGF5OiBibG9jaztcbn1cbi5zdWJtaXNzaW9uIC5zdWJtaXNzaW9uX19mb3JtLWdyb3VwX19maWVsZF9fdmFsdWUuc3VibWlzc2lvbl9fZm9ybS1ncm91cF9fZmllbGRfX3ZhbHVlLS1pbWFnZSBpbWcge1xuICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcbiAgbWFyZ2luLXRvcDogMTBweDtcbiAgbWFyZ2luLWJvdHRvbTogNXB4O1xufSJdfQ== */\"","import { Component, OnInit, ViewChild } from '@angular/core';\nimport {ActivatedRoute} from '@angular/router';\nimport {FormService} from '../../services/form/form.service';\nimport {SubmissionService} from '../../services/submission/submission.service';\nimport {AuthenticationService} from '../../services/authentication/authentication.service';\nimport { ModalController } from '@ionic/angular';\nimport { Router, RouterEvent, NavigationEnd } from '@angular/router';\nimport { InAppBrowser } from '@ionic-native/in-app-browser/ngx';\nimport * as moment from 'moment';\n\n\n@Component({\n  selector: 'app-submission',\n  templateUrl: './submission.page.html',\n  styleUrls: ['./submission.page.scss'],\n})\nexport class SubmissionPage implements OnInit {\n\n\n    public loading:boolean;\n    \n    public user:any;\n    \n    public form:any;\n    public fieldGroups:Array<any>;\n    public groupedFields:any;\n    public activeGroup:any;\n    public activeGroupIndex:number;\n    \n    public submission:any;\n\n\n    constructor(private formService:FormService, public modalController: ModalController,\n        private router: Router, private authenticationService:AuthenticationService, private route:ActivatedRoute, private iab: InAppBrowser, \n        private submissionService:SubmissionService) { \n        \n        \n        this.loading = true;\n        \n        let submissionId = this.route.snapshot.params['id']; \n        this.submission = {id:submissionId};\n        \n        this.form = {};\n        this.fieldGroups = [];\n        this.groupedFields = {};        \n        this.submissionService.getSubmission(this.submission.id).then((data:any) => {\n     \n            this.submission = data;\n            this.form.id = data.form_id;\n            this.getForm();\n        })\n\n        \n        this.user = {};\n        this.authenticationService.getUserData().subscribe((data) => {\n\n            this.user = data;\n        });\n        \n   \n        }\n\n    ngOnInit() {\n    }\n    \n    \n    \n    \n    public getForm(){\n        this.formService.getForm(this.form.id).then((data:any) => {\n\n            \n            this.setFormData(data);\n            \n            this.loading = false;    \n\n        }).catch(() => {\n\n        \n            this.loading = false;\n        }); \n\n    }   \n    \n    \n    \n    private setFormData(data){\n\n        this.form = data;\n        this.fieldGroups = [];\n        this.groupedFields = {};\n\n        let unGrouped = 1;\n\n        for (let field of this.form.fields){\n            \n            for (let answer of this.submission.answers){\n                if (answer.field_id === field.id){\n                    field.answer = answer.answer\n                }\n            }\n            \n\n            if (!field.field_group_id && this.groupedFields[\"ungrouped\" + unGrouped]){                   \n                this.groupedFields[\"ungrouped\" + unGrouped].push(field);    \n            }\n            else if (!field.field_group_id && !this.groupedFields[\"ungrouped\" + unGrouped]){\n                this.groupedFields[\"ungrouped\" + unGrouped] = [field];\n                this.fieldGroups.push({name:\"Step \" + (this.fieldGroups.length + 1), id:\"ungrouped\" + unGrouped});\n            }\n            else if (this.groupedFields[field.field_group_id]){\n                this.groupedFields[field.field_group_id].push(field);\n                unGrouped += 1;\n            }\n            else{\n                this.groupedFields[field.field_group_id] = [field];\n\n                for (let fieldGroup of this.form.field_groups){\n                    if (fieldGroup.id === field.field_group_id){\n                        this.fieldGroups.push(fieldGroup);\n                        break;\n                    }\n                }\n\n\n                unGrouped += 1;\n            }\n\n\n            field.field_options = field.field_options ? JSON.parse(field.field_options) : [];\n\n        }\n\n\n\n\n\n        if (this.fieldGroups.length > 0){\n\n            this.changeActiveGroup(this.fieldGroups[0].id);\n        }        \n    }\n    \n    \n    \n    public changeActiveGroup(fieldGroupId){\n                \n        this.activeGroup = fieldGroupId;\n        this.activeGroupIndex = this.fieldGroups.findIndex(item => item.id === fieldGroupId);\n\n        \n    }    \n    \n         \n    public openFile(file){\n        this.iab.create(file, '_system');\n    }   \n    \n    \n    public formatJSON(json){\n        return JSON.stringify(JSON.parse(json), null, 4);\n    } \n\n}\n"],"sourceRoot":""}