{"version":3,"sources":["./src/app/pages/documents/documents.page.html","./src/app/pages/documents/documents-routing.module.ts","./src/app/pages/documents/documents.module.ts","./src/app/pages/documents/documents.page.scss","./src/app/pages/documents/documents.page.ts","./src/app/services/document/document.service.ts"],"names":[],"mappings":"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","file":"documents-documents-module.js","sourcesContent":["module.exports = \"<ion-header>\\n    <ion-toolbar color=\\\"primary\\\">\\n        <ion-title>\\n            Documents\\n        </ion-title>\\n        \\n        <ion-buttons slot=\\\"end\\\">\\n            <ion-button [routerLink]=\\\"['/settings']\\\" routerDirection=\\\"forward\\\">\\n                <ion-icon slot=\\\"icon-only\\\" name=\\\"settings\\\"></ion-icon>\\n            </ion-button>   \\n            \\n        </ion-buttons>            \\n        \\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"documents\\\">\\n\\n\\n    <div class=\\\"documents__search\\\">\\n        <ion-searchbar placeholder=\\\"Find a document...\\\" [(ngModel)]=\\\"search\\\" (ionChange)=\\\"doSearch()\\\" color=\\\"light\\\"></ion-searchbar>      \\n    </div>\\n\\n        \\n    <div class=\\\"documents__loading\\\" *ngIf=\\\"loading\\\">\\n        <ion-spinner color=\\\"primary\\\"></ion-spinner>\\n    </div>    \\n        \\n  \\n    \\n    <div *ngIf=\\\"!loading\\\">\\n    \\n        <div  *ngFor=\\\"let documentGroup of documentGroups\\\">\\n            <ion-list class=\\\"documents__list\\\" *ngIf=\\\"formattedDocuments[documentGroup.name] && formattedDocuments[documentGroup.name].length > 0\\\">\\n\\n                <ion-list-header>\\n                    {{documentGroup.name}}\\n                </ion-list-header>\\n\\n                <ion-item detail *ngFor=\\\"let document of formattedDocuments[documentGroup.name]\\\"  (click)=\\\"downloadDocument(document.file)\\\">\\n                    <ion-label>\\n                        <h2>{{document.name}}</h2>\\n                        <p>{{document.description}}</p>\\n                    </ion-label>\\n                </ion-item>       \\n\\n\\n            </ion-list>    \\n\\n        </div>\\n        \\n    </div> \\n\\n\\n\\n    \\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DocumentsPage } from './documents.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DocumentsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DocumentsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DocumentsPageRoutingModule } from './documents-routing.module';\n\nimport { DocumentsPage } from './documents.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    DocumentsPageRoutingModule\n  ],\n  declarations: [DocumentsPage]\n})\nexport class DocumentsPageModule {}\n","module.exports = \".documents.ios .documents__search .documents__search__filter {\\n  top: 12px;\\n}\\n.documents .documents__search {\\n  position: relative;\\n  margin-top: 10px;\\n}\\n.documents .documents__search .documents__search__filter {\\n  position: absolute;\\n  top: 7px;\\n  right: 10px;\\n  font-size: 10px;\\n}\\n.documents .documents__list {\\n  margin-top: 15px;\\n}\\n.documents .documents__list ion-list-header {\\n  font-weight: 600;\\n}\\n.documents .documents__loading {\\n  text-align: center;\\n  margin-top: 60px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvZG9jdW1lbnRzL0Q6XFxUYXlsb3JcXERvY3VtZW50c1xcV2Vic2l0ZXNcXGh0a2luZ2xvZ2dpbmdcXGFwcC9zcmNcXGFwcFxccGFnZXNcXGRvY3VtZW50c1xcZG9jdW1lbnRzLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvZG9jdW1lbnRzL2RvY3VtZW50cy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBTVE7RUFDSSxTQUFBO0FDTFo7QURXSTtFQUNJLGtCQUFBO0VBQ0EsZ0JBQUE7QUNUUjtBRFdRO0VBQ0ksa0JBQUE7RUFDQSxRQUFBO0VBQ0EsV0FBQTtFQUNBLGVBQUE7QUNUWjtBRGVJO0VBQ0ksZ0JBQUE7QUNiUjtBRGVRO0VBQ1EsZ0JBQUE7QUNiaEI7QURvQkk7RUFDSSxrQkFBQTtFQUNBLGdCQUFBO0FDbEJSIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvZG9jdW1lbnRzL2RvY3VtZW50cy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZG9jdW1lbnRze1xyXG4gICAgXHJcbiAgICAmLmlvc3tcclxuICAgICAgICBcclxuXHJcbiAgICAgICAgXHJcbiAgICAgICAgLmRvY3VtZW50c19fc2VhcmNoIC5kb2N1bWVudHNfX3NlYXJjaF9fZmlsdGVye1xyXG4gICAgICAgICAgICB0b3A6MTJweDtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICB9XHJcbiAgICBcclxuXHJcbiAgICAuZG9jdW1lbnRzX19zZWFyY2h7XHJcbiAgICAgICAgcG9zaXRpb246cmVsYXRpdmU7XHJcbiAgICAgICAgbWFyZ2luLXRvcDogMTBweDtcclxuICAgIFxyXG4gICAgICAgIC5kb2N1bWVudHNfX3NlYXJjaF9fZmlsdGVye1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgICAgIHRvcDogN3B4O1xyXG4gICAgICAgICAgICByaWdodDogMTBweDtcclxuICAgICAgICAgICAgZm9udC1zaXplOiAxMHB4O1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIFxyXG4gICAgLmRvY3VtZW50c19fbGlzdHtcclxuICAgICAgICBtYXJnaW4tdG9wOiAxNXB4O1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlvbi1saXN0LWhlYWRlcntcclxuICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgLmRvY3VtZW50c19fbG9hZGluZ3tcclxuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgICAgbWFyZ2luLXRvcDogNjBweDsgICAgICAgIFxyXG4gICAgfVxyXG4gICBcclxufVxyXG4iLCIuZG9jdW1lbnRzLmlvcyAuZG9jdW1lbnRzX19zZWFyY2ggLmRvY3VtZW50c19fc2VhcmNoX19maWx0ZXIge1xuICB0b3A6IDEycHg7XG59XG4uZG9jdW1lbnRzIC5kb2N1bWVudHNfX3NlYXJjaCB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgbWFyZ2luLXRvcDogMTBweDtcbn1cbi5kb2N1bWVudHMgLmRvY3VtZW50c19fc2VhcmNoIC5kb2N1bWVudHNfX3NlYXJjaF9fZmlsdGVyIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDdweDtcbiAgcmlnaHQ6IDEwcHg7XG4gIGZvbnQtc2l6ZTogMTBweDtcbn1cbi5kb2N1bWVudHMgLmRvY3VtZW50c19fbGlzdCB7XG4gIG1hcmdpbi10b3A6IDE1cHg7XG59XG4uZG9jdW1lbnRzIC5kb2N1bWVudHNfX2xpc3QgaW9uLWxpc3QtaGVhZGVyIHtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbn1cbi5kb2N1bWVudHMgLmRvY3VtZW50c19fbG9hZGluZyB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgbWFyZ2luLXRvcDogNjBweDtcbn0iXX0= */\"","import { Component, NgZone } from '@angular/core';\nimport {DocumentService} from '../../services/document/document.service';\nimport {AuthenticationService} from '../../services/authentication/authentication.service';\nimport { ToastController, ModalController,AlertController } from '@ionic/angular';\nimport { Router, RouterEvent, NavigationEnd } from '@angular/router';\nimport { InAppBrowser } from '@ionic-native/in-app-browser/ngx';\nimport {OfflineService} from '../../services/offline/offline.service';\n\nimport * as moment from 'moment';\n\n@Component({\n  selector: 'app-documents',\n  templateUrl: './documents.page.html',\n  styleUrls: ['./documents.page.scss'],\n})\nexport class DocumentsPage {\n   public search:string;\n    public filters:any;\n    public loading:boolean;\n    \n    public user:any;\n    \n    public documents:Array<any>;\n    public documentGroups:Array<any>;\n    public formattedDocuments:any;\n    \n    constructor(private documentService:DocumentService, public toastController: ToastController, public modalController: ModalController,\n        private router: Router, private authenticationService:AuthenticationService, private alertCtrl: AlertController, private ngZone: NgZone, \n        private iab: InAppBrowser, private offlineSerivce: OfflineService) {\n\n        this.loading = true;\n        \n        this.search = \"\";\n        this.filters = {orderby:\"created_at\", order:\"asc\", city:\"\", suburb:\"\"}        \n        \n        \n        this.documents = [];\n        this.documentGroups = [];\n        this.formattedDocuments = {};\n\n        this.user = {};\n        this.authenticationService.getUserData().subscribe((data) => {\n\n            this.ngZone.run(() => {\n                this.user = data;\n            });\n        });\n       \n        \n        \n    }\n    \n    ionViewDidEnter(){\n        this.getDocuments();\n    }\n    \n    \n    public downloadDocument(file){\n        this.iab.create(file, '_system');\n    }\n    \n    \n    public getDocuments(){\n        this.loading = true;\n        \n        this.documentService.getDocumentGroups().then((data:any) => {\n            \n            this.offlineSerivce.saveDocumentGroups(data);\n            \n            this.setDocumentGroupData(data);\n            \n            \n        }).catch(() => {\n            this.offlineSerivce.getDocumentGroups().then((data) => {\n                if (data){\n                    this.setDocumentGroupData(data);\n                }\n            })             \n        })        \n        \n        \n    }\n    \n    \n    private setDocumentGroupData(data){\n            this.documentGroups = data;\n            \n            this.documentGroups.push({name:\"Other\"})\n            \n            for (let documentGroup of this.documentGroups){\n                this.formattedDocuments[documentGroup.name] = [];\n            }\n            \n            this.documentService.getDocuments(this.search, this.filters).then((data:any) => {\n                \n                this.offlineSerivce.saveDocuments(data.data);\n                \n                this.setDocumentData(data.data);\n                \n                this.loading = false;\n            }).catch(() => {\n            \n                this.offlineSerivce.getDocuments().then((data) => {\n                    if (data){\n                        this.setDocumentData(data);\n                    }\n                });            \n            \n            \n                this.loading = false;\n            });            \n                    \n    }\n    \n    \n    private setDocumentData(data){\n        this.documents = data;\n\n        for (let document of this.documents){\n            if (document.document_group){\n                this.formattedDocuments[document.document_group.name].push(document);\n            }\n            else{\n                this.formattedDocuments[\"Other\"].push(document);\n            }\n        }        \n    }\n    \n \n    \n    \n    public doSearch(){\n\n        this.getDocuments();\n        \n    }    \n    \n\n    \n    \n    public documentatDate(date){\n        let localeOffset = -(new Date().getTimezoneOffset());\n        return moment(date).add(localeOffset, 'm').format(\"DD/MM/YYYY, h:mma\");\n    }       \n    \n\n}\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Storage } from '@ionic/storage';\nimport { Platform } from '@ionic/angular';\nimport {environment} from '../../../environments/environment';\nimport { BehaviorSubject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DocumentService {\n\n    constructor(public http: HttpClient, public storage: Storage) { }\n    \n  \n    public getDocuments(search, filters){\n        return new Promise((resolve, reject) => {\n            this.storage.get(\"ht_token\").then((token) => {            \n                if (token){            \n                    this.http.get(environment.apiUrl + \"/documents?token=\" + token + \"&search=\" + search + \"&city=\" + filters.city + \"&orderby=\" + filters.orderby + \"&order=\" + filters.order).subscribe((res) => {\n                        \n                        resolve(res);\n                    }, (e) => {\n                        reject(e);\n                    }); \n                }\n                else{\n                    reject();\n                }\n            });\n        });        \n    }   \n    \n    \n    public getDocumentGroups(){\n        return new Promise((resolve, reject) => {\n            this.storage.get(\"ht_token\").then((token) => {            \n                if (token){            \n                    this.http.get(environment.apiUrl + \"/documentgroups?token=\" + token).subscribe((res) => {\n                        \n                        resolve(res);\n                    }, (e) => {\n                        reject(e);\n                    }); \n                }\n                else{\n                    reject();\n                }\n            });\n        });        \n    }  \n    \n    public getDocument(documentId){\n        return new Promise((resolve, reject) => {\n            this.storage.get(\"ht_token\").then((token) => {            \n                if (token){            \n                    this.http.get(environment.apiUrl + \"/documents/\" + documentId + \"?token=\" + token).subscribe((res) => {\n                        resolve(res);\n                    }, (e) => {\n                        reject(e);\n                    }); \n                }\n                else{\n                    reject();\n                }\n            });\n        });        \n    }      \n       \n    \n    \n}\n"],"sourceRoot":""}