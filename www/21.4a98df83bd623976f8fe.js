(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"22TP":function(n,l,e){"use strict";e.r(l);var t=e("CcnG"),o=function(){return function(){}}(),u=e("pMnS"),i=e("oBZk"),r=e("ZZ/e"),a=e("Ip0R"),s=e("fLD/"),c=e("AytR"),d=e("t/Na"),f=e("iw74"),g=function(){function n(n,l){this.http=n,this.storage=l}return n.prototype.getMessages=function(){var n=this;return new Promise((function(l,e){n.storage.get("ht_token").then((function(t){t?n.http.get(c.a.apiUrl+"/messages?token="+t+"&search=&limit=999&page=1&order_by=created_at&order=DESC").subscribe((function(e){n.storage.set("ht_messages",e),l(e)}),(function(t){n.storage.get("ht_messages").then((function(n){n?l(n):e(t)})).catch((function(){e(t)}))})):e()}))}))},n.ngInjectableDef=t["\u0275\u0275defineInjectable"]({factory:function(){return new n(t["\u0275\u0275inject"](d.c),t["\u0275\u0275inject"](f.b))},token:n,providedIn:"root"}),n}(),m=e("wd/R"),p=function(){function n(n,l,e,t,o,u,i){this.formService=n,this.toastController=l,this.modalController=e,this.router=t,this.alertCtrl=o,this.ngZone=u,this.messageService=i,this.loading=!0,this.messages=[]}return n.prototype.ionViewDidEnter=function(){this.getMessages()},n.prototype.getMessages=function(){var n=this;this.loading=!0,this.messageService.getMessages().then((function(l){n.messages=l.data,n.loading=!1})).catch((function(){n.loading=!1}))},n.prototype.openMessage=function(n){this.alertCtrl.create({header:n.title,message:n.message,buttons:[{text:"Dismiss",role:"cancel",handler:function(n){}}]}).then((function(n){n.present()}))},n.prototype.formatDate=function(n){var l=-(new Date).getTimezoneOffset();return m(n).add(l,"m").fromNow()},n}(),h=e("ZYCi"),b=t["\u0275crt"]({encapsulation:0,styles:[[".messages[_ngcontent-%COMP%]   .messages__loading[_ngcontent-%COMP%]{text-align:center;margin-top:60px}"]],data:{}});function R(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","messages__loading"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"ion-spinner",[["color","primary"]],null,null,null,i.bb,i.x)),t["\u0275did"](2,49152,null,0,r.sb,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{color:[0,"color"]},null)],(function(n,l){n(l,2,0,"primary")}),null)}function C(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,7,"ion-item",[["class","forms__list__form"],["detail",""]],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.openMessage(n.context.$implicit)&&t),t}),i.Q,i.m)),t["\u0275did"](1,49152,null,0,r.H,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{detail:[0,"detail"]},null),(n()(),t["\u0275eld"](2,0,null,0,5,"ion-label",[],null,null,null,i.R,i.n)),t["\u0275did"](3,49152,null,0,r.N,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["\u0275eld"](4,0,null,0,1,"h2",[],null,null,null,null,null)),(n()(),t["\u0275ted"](5,null,["",""])),(n()(),t["\u0275eld"](6,0,null,0,1,"p",[],null,null,null,null,null)),(n()(),t["\u0275ted"](7,null,["Sent ",""]))],(function(n,l){n(l,1,0,"")}),(function(n,l){var e=l.component;n(l,5,0,l.context.$implicit.title),n(l,7,0,e.formatDate(l.context.$implicit.created_at))}))}function v(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,3,"ion-list",[["class","messages__list"]],null,null,null,i.T,i.o)),t["\u0275did"](2,49152,null,0,r.O,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["\u0275and"](16777216,null,0,1,null,C)),t["\u0275did"](4,278528,null,0,a.i,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){n(l,4,0,l.component.messages)}),null)}function D(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,11,"ion-header",[],null,null,null,i.N,i.j)),t["\u0275did"](1,49152,null,0,r.B,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["\u0275eld"](2,0,null,0,9,"ion-toolbar",[["color","primary"]],null,null,null,i.hb,i.D)),t["\u0275did"](3,49152,null,0,r.Cb,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{color:[0,"color"]},null),(n()(),t["\u0275eld"](4,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,i.I,i.e)),t["\u0275did"](5,49152,null,0,r.l,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["\u0275eld"](6,0,null,0,2,"ion-back-button",[["defaultHref","/login"]],null,[[null,"click"]],(function(n,l,e){var o=!0;return"click"===l&&(o=!1!==t["\u0275nov"](n,8).onClick(e)&&o),o}),i.G,i.c)),t["\u0275did"](7,49152,null,0,r.g,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{defaultHref:[0,"defaultHref"]},null),t["\u0275did"](8,16384,null,0,r.h,[[2,r.ib],r.Ib],{defaultHref:[0,"defaultHref"]},null),(n()(),t["\u0275eld"](9,0,null,0,2,"ion-title",[],null,null,null,i.gb,i.C)),t["\u0275did"](10,49152,null,0,r.Ab,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["\u0275ted"](-1,0,["Messages"])),(n()(),t["\u0275eld"](12,0,null,null,5,"ion-content",[["class","messages"]],null,null,null,i.K,i.g)),t["\u0275did"](13,49152,null,0,r.u,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["\u0275and"](16777216,null,0,1,null,R)),t["\u0275did"](15,16384,null,0,a.j,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,0,1,null,v)),t["\u0275did"](17,16384,null,0,a.j,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,l){var e=l.component;n(l,3,0,"primary"),n(l,7,0,"/login"),n(l,8,0,"/login"),n(l,15,0,e.loading),n(l,17,0,!e.loading)}),null)}function y(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-messages",[],null,null,null,D,b)),t["\u0275did"](1,49152,null,0,p,[s.a,r.Rb,r.Hb,h.m,r.a,t.NgZone,g],null,null)],null,null)}var _=t["\u0275ccf"]("app-messages",p,y,{},{},[]),N=e("gIcY"),w=function(){return function(){}}();e.d(l,"MessagesPageModuleNgFactory",(function(){return Z}));var Z=t["\u0275cmf"](o,[],(function(n){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[u.a,_]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,a.l,a.k,[t.LOCALE_ID,[2,a.w]]),t["\u0275mpd"](4608,N.j,N.j,[]),t["\u0275mpd"](4608,r.b,r.b,[t.NgZone,t.ApplicationRef]),t["\u0275mpd"](4608,r.Hb,r.Hb,[r.b,t.ComponentFactoryResolver,t.Injector]),t["\u0275mpd"](4608,r.Mb,r.Mb,[r.b,t.ComponentFactoryResolver,t.Injector]),t["\u0275mpd"](1073742336,a.b,a.b,[]),t["\u0275mpd"](1073742336,N.i,N.i,[]),t["\u0275mpd"](1073742336,N.b,N.b,[]),t["\u0275mpd"](1073742336,r.Eb,r.Eb,[]),t["\u0275mpd"](1073742336,h.p,h.p,[[2,h.u],[2,h.m]]),t["\u0275mpd"](1073742336,w,w,[]),t["\u0275mpd"](1073742336,o,o,[]),t["\u0275mpd"](1024,h.k,(function(){return[[{path:"",component:p}]]}),[])])}))}}]);